**Семафоры** — это целочисленные переменные, которые используются для управления доступом к ресурсам. Они поддерживают две основные операции: P (ожидание или "захват") и V (освобождение) (такие странные названия из-за голландского происхождения Дейкстры). Существуют бинарные и считающие семафоры. Бинарные имеют только два значения (0 и 1), а считающие могут принимать значения от нуля до n.

Пока значение семафора равно 0, ресурс свободен. Если его занимает какой-то процесс, то он увеличивает значение на единицу (путём вызова P), а когда освобождает, то должен уменьшить (путём вызова V). Важно отметить что эти операции должны быть атомарными. В приведённом примере они таковыми не являются (для простоты понимания).

```
struct semaphore_t {
    int value;
};

void P(semaphore_t* sem) {
    while (sem->value <= 0) {
        // Ждём, пока ресурс не освободится (активное ожидание)
    }
    sem->value--;  // Захватываем ресурс
}

void V(semaphore_t* sem) {
    sem->value++;  // Освобождаем ресурс
}
```

