`lsblk` — команда для отображения всех дисков.

`fdisk` — утилита для работы с разделами диска.

`fdisk -l` — отображает диски и их разделы.

`fdisk /dev/sdb` — /dev/sdb это устройство, которое нужно настроить. После ввода команды, запускается программа и ожидает команды.
Команды:
- `m` — показать доступные команды.
- `p` — вывести таблицу разделов.
- `n` — создать новый раздел.
- `d` — удалить раздел.
- `w` — сохранить и выйти.
- `q` — выйти без сохранения.

`mkfs` — команда для создания файловой системе в разделе. Надо указать название ФС через точку, а затем сам раздел. Например, `mkfs.ext4 /dev/sdb1`.

Далее необходимо монтировать созданный раздел. Для этого нужно создать точку монтирования (папку): `mkdir /mnt/disk1`.
Также можно настроить права доступа к ней.

Для монтирования применяется команда `mount`. Пример: `mount /dev/sdb1 /mnt/disk1`. Сначала пишется раздел, затем директория, в которую необходимо смонтировать его.

Дисками можно управлять также при помощи LVM. Он используется для создания томов и их групп.


##### LVM:

Для создания разделов также можно использовать LVM. Такие разделы будут отличаться от классических (созданных с помощью `fdisk`), они будут динамическими. Это значит, что их размер и название можно будет менять. LVM является абстракцией, работающей над обычными разделами.

Существует 3 вида абстракции:
- **PV (Physical Volume)** — обозначает какое-то физическое устройство (диск) или его раздел. Volume обозначает *том*.
- **VG (Volume Group)** — группа физических томов. Например, можно объединить несколько разделов одного диска.
- **LV (Logical Volume)** — логический раздел. Как раз его используют как альтернативу классическим разделам.

Алгоритм работы:
- Сперва необходимо как бы выделить рабочую зону для разделов. Для этого нужно создать PV.
```
pvcreate /dev/sdb
pvcreate /dev/sda2
```
- Затем, эти разделы нужно объединить в одну группу.
  `vgcreate my_vg /dev/sdb /dev/sda2`, `my_vg` — имя группы.
- После этого можно создавать логические разделы.
  `lvcreate -L 20G -n my_lv my_vg`
  `-L` позволяет выбрать размер в мегабайтах `M`, гигабайтах `G`, терабайтах `T`.
  `-n` используется для указания имени.
- Далее остаётся только отформатировать раздел в желаемую файловую систему.
  `mkfs.ext4 /dev/my_vg/my_lv`
  И смонтировать его.
```
mkdir /mnt/data
mount /dev/my_vg/my_lv /mnt/data
```

Изменение размера:
```
// Увеличить том на 5ГБ
lvextend -L +5G /dev/my_vg/my_lv

// ИЛИ указать новый общий размер (например, 20ГБ)
lvextend -L 20G /dev/my_vg/my_lv

// После изменения размера LV нужно расширить файловую систему
resize2fs /dev/my_vg/my_lv  # для ext2/3/4
xfs_growfs /mount_point     # для XFS
```

```
// 1. Сначала уменьшить файловую систему (для ext4)
umount /dev/my_vg/my_lv
e2fsck -f /dev/my_vg/my_lv
resize2fs /dev/my_vg/my_lv 15G  # уменьшить ФС до 15ГБ

// 2. Затем уменьшить LV
lvreduce -L 15G /dev/my_vg/my_lv

// 3. Снова монтировать
mount /dev/my_vg/my_lv /mount_point
```

Переименование: `lvrename my_vg old_name new_name`.